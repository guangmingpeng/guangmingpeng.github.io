<!DOCTYPE HTML>
<html lang="zh-CN">


<head>
    <meta charset="utf-8">
    <meta name="keywords" content="如何一步步搭建SSM框架, a~bulading">
    <meta name="description" content="">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta name="renderer" content="webkit|ie-stand|ie-comp">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="format-detection" content="telephone=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <!-- Global site tag (gtag.js) - Google Analytics -->


    <title>如何一步步搭建SSM框架 | a~bulading</title>
    <link rel="icon" type="image/png" href="/favicon.png">

    <link rel="stylesheet" type="text/css" href="/libs/awesome/css/all.css">
    <link rel="stylesheet" type="text/css" href="/libs/materialize/materialize.min.css">
    <link rel="stylesheet" type="text/css" href="/libs/aos/aos.css">
    <link rel="stylesheet" type="text/css" href="/libs/animate/animate.min.css">
    <link rel="stylesheet" type="text/css" href="/libs/lightGallery/css/lightgallery.min.css">
    <link rel="stylesheet" type="text/css" href="/css/matery.css">
    <link rel="stylesheet" type="text/css" href="/css/my.css">

    <script src="/libs/jquery/jquery.min.js"></script>

<meta name="generator" content="Hexo 4.2.1"><link rel="alternate" href="/atom.xml" title="a~bulading" type="application/atom+xml">
<link rel="stylesheet" href="/css/prism-tomorrow.css" type="text/css"></head>


<body>
    <header class="navbar-fixed">
    <nav id="headNav" class="bg-color nav-transparent">
        <div id="navContainer" class="nav-wrapper container">
            <div class="brand-logo">
                <a href="/" class="waves-effect waves-light">
                    
                    <img src="/medias/logo.png" class="logo-img" alt="LOGO">
                    
                    <span class="logo-span">a~bulading</span>
                </a>
            </div>
            

<a href="#" data-target="mobile-nav" class="sidenav-trigger button-collapse"><i class="fas fa-bars"></i></a>
<ul class="right nav-menu">
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/" class="waves-effect waves-light">
      
      <i class="fas fa-home" style="zoom: 0.6;"></i>
      
      <span>首页</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/tags" class="waves-effect waves-light">
      
      <i class="fas fa-tags" style="zoom: 0.6;"></i>
      
      <span>标签</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/categories" class="waves-effect waves-light">
      
      <i class="fas fa-bookmark" style="zoom: 0.6;"></i>
      
      <span>分类</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/archives" class="waves-effect waves-light">
      
      <i class="fas fa-archive" style="zoom: 0.6;"></i>
      
      <span>归档</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/about" class="waves-effect waves-light">
      
      <i class="fas fa-user-circle" style="zoom: 0.6;"></i>
      
      <span>关于</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/contact" class="waves-effect waves-light">
      
      <i class="fas fa-comments" style="zoom: 0.6;"></i>
      
      <span>留言板</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/friends" class="waves-effect waves-light">
      
      <i class="fas fa-address-book" style="zoom: 0.6;"></i>
      
      <span>友情链接</span>
    </a>
    
  </li>
  
  <li>
    <a href="#searchModal" class="modal-trigger waves-effect waves-light">
      <i id="searchIcon" class="fas fa-search" title="搜索" style="zoom: 0.85;"></i>
    </a>
  </li>
</ul>


<div id="mobile-nav" class="side-nav sidenav">

    <div class="mobile-head bg-color">
        
        <img src="/medias/logo.png" class="logo-img circle responsive-img">
        
        <div class="logo-name">a~bulading</div>
        <div class="logo-desc">
            
            Never really desperate, only the lost of the soul.
            
        </div>
    </div>

    

    <ul class="menu-list mobile-menu-list">
        
        <li class="m-nav-item">
	  
		<a href="/" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-home"></i>
			
			首页
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/tags" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-tags"></i>
			
			标签
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/categories" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-bookmark"></i>
			
			分类
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/archives" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-archive"></i>
			
			归档
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/about" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-user-circle"></i>
			
			关于
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/contact" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-comments"></i>
			
			留言板
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/friends" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-address-book"></i>
			
			友情链接
		</a>
          
        </li>
        
        
        <li><div class="divider"></div></li>
        <li>
            <a href="https://github.com/guangmingpeng" class="waves-effect waves-light" target="_blank">
                <i class="fab fa-github-square fa-fw"></i>Fork Me
            </a>
        </li>
        
    </ul>
</div>


        </div>

        
            <style>
    .nav-transparent .github-corner {
        display: none !important;
    }

    .github-corner {
        position: absolute;
        z-index: 10;
        top: 0;
        right: 0;
        border: 0;
        transform: scale(1.1);
    }

    .github-corner svg {
        color: #0f9d58;
        fill: #fff;
        height: 64px;
        width: 64px;
    }

    .github-corner:hover .octo-arm {
        animation: a 0.56s ease-in-out;
    }

    .github-corner .octo-arm {
        animation: none;
    }

    @keyframes a {
        0%,
        to {
            transform: rotate(0);
        }
        20%,
        60% {
            transform: rotate(-25deg);
        }
        40%,
        80% {
            transform: rotate(10deg);
        }
    }
</style>

<a href="https://github.com/guangmingpeng" class="github-corner tooltipped hide-on-med-and-down" target="_blank"
   data-tooltip="Fork Me" data-position="left" data-delay="50">
    <svg viewBox="0 0 250 250" aria-hidden="true">
        <path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path>
        <path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2"
              fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path>
        <path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z"
              fill="currentColor" class="octo-body"></path>
    </svg>
</a>
        
    </nav>

</header>

    



<div class="bg-cover pd-header post-cover" style="background-image: url('/medias/featureimages/5.jpg')">
    <div class="container" style="right: 0px;left: 0px;">
        <div class="row">
            <div class="col s12 m12 l12">
                <div class="brand">
                    <h1 class="description center-align post-title">如何一步步搭建SSM框架</h1>
                </div>
            </div>
        </div>
    </div>
</div>




<main class="post-container content">

    
    <link rel="stylesheet" href="/libs/tocbot/tocbot.css">
<style>
    #articleContent h1::before,
    #articleContent h2::before,
    #articleContent h3::before,
    #articleContent h4::before,
    #articleContent h5::before,
    #articleContent h6::before {
        display: block;
        content: " ";
        height: 100px;
        margin-top: -100px;
        visibility: hidden;
    }

    #articleContent :focus {
        outline: none;
    }

    .toc-fixed {
        position: fixed;
        top: 64px;
    }

    .toc-widget {
        width: 345px;
        padding-left: 20px;
    }

    .toc-widget .toc-title {
        margin: 35px 0 15px 0;
        padding-left: 17px;
        font-size: 1.5rem;
        font-weight: bold;
        line-height: 1.5rem;
    }

    .toc-widget ol {
        padding: 0;
        list-style: none;
    }

    #toc-content {
        height: calc(100vh - 250px);
        overflow: auto;
    }

    #toc-content ol {
        padding-left: 10px;
    }

    #toc-content ol li {
        padding-left: 10px;
    }

    #toc-content .toc-link:hover {
        color: #42b983;
        font-weight: 700;
        text-decoration: underline;
    }

    #toc-content .toc-link::before {
        background-color: transparent;
        max-height: 25px;

        position: absolute;
        right: 23.5vw;
        display: block;
    }

    #toc-content .is-active-link {
        color: #42b983;
    }

    #floating-toc-btn {
        position: fixed;
        right: 15px;
        bottom: 76px;
        padding-top: 15px;
        margin-bottom: 0;
        z-index: 998;
    }

    #floating-toc-btn .btn-floating {
        width: 48px;
        height: 48px;
    }

    #floating-toc-btn .btn-floating i {
        line-height: 48px;
        font-size: 1.4rem;
    }
</style>
<div class="row">
    <div id="main-content" class="col s12 m12 l9">
        <!-- 文章内容详情 -->
<div id="artDetail">
    <div class="card">
        <div class="card-content article-info">
            <div class="row tag-cate">
                <div class="col s7">
                    
                    <div class="article-tag">
                        
                            <a href="/tags/SSM/">
                                <span class="chip bg-color">SSM</span>
                            </a>
                        
                    </div>
                    
                </div>
                <div class="col s5 right-align">
                    
                </div>
            </div>

            <div class="post-info">
                
                <div class="post-date info-break-policy">
                    <i class="far fa-calendar-minus fa-fw"></i>发布日期:&nbsp;&nbsp;
                    2020-06-03
                </div>
                

                

                

                

                
            </div>
        </div>
        <hr class="clearfix">
        <div class="card-content article-card-content">
            <div id="articleContent">
                <h1 id="如何一步步搭建SSM框架"><a href="#如何一步步搭建SSM框架" class="headerlink" title="如何一步步搭建SSM框架"></a>如何一步步搭建SSM框架</h1><h2 id="环境准备："><a href="#环境准备：" class="headerlink" title="环境准备："></a>环境准备：</h2><ul>
<li>apache-tomcat</li>
<li>apache-maven </li>
<li>MySQL </li>
<li>Java jdk </li>
<li>IntelliJ IDEA</li>
</ul>
<h2 id="数据库"><a href="#数据库" class="headerlink" title="数据库"></a>数据库</h2><p>搭建框架可以考虑三个部分先单独配置，测试通过后再进行整合Spring-&gt;springMVC-&gt;Mybatis，再由spring分别整合springMVC和Mybatis，spring作为一个贯穿的部分。即要在springmvc中能使用spring的service,同时spring也管理Mybatis的代理对象，这样三个框架即得到了整合。以下为一个全过程。</p>
<h4 id="1-首先要创建相应的数据库和表，在数据库中创建名为“ssm”的database，注意其编码要设置为utf8，在数据库中创建一个名为“account”的表。代码如下："><a href="#1-首先要创建相应的数据库和表，在数据库中创建名为“ssm”的database，注意其编码要设置为utf8，在数据库中创建一个名为“account”的表。代码如下：" class="headerlink" title="1. 首先要创建相应的数据库和表，在数据库中创建名为“ssm”的database，注意其编码要设置为utf8，在数据库中创建一个名为“account”的表。代码如下："></a>1. 首先要创建相应的数据库和表，在数据库中创建名为“ssm”的database，注意其编码要设置为utf8，在数据库中创建一个名为“account”的表。代码如下：</h4><p><img src="https://pic.rmb.bdstatic.com/bjh/fead6b7cac5fe9c4dfe02f990cee46aa.png" alt="image.png"></p>
<pre><code>create database ssm; 
use ssm; 
create table account( 
id int primary key auto_increment, 
name varchar(20), 
money double 
)ENGINE=InnoDB DEFAULT CHARSET=utf8;</code></pre><h2 id="创建project"><a href="#创建project" class="headerlink" title="创建project"></a>创建project</h2><h4 id="1-建立一个空project（不是空的应该也没关系）"><a href="#1-建立一个空project（不是空的应该也没关系）" class="headerlink" title="1. 建立一个空project（不是空的应该也没关系）"></a>1. 建立一个空project（不是空的应该也没关系）</h4><p><img src="https://pic.rmb.bdstatic.com/bjh/27fd2e409caf09d66040deaf2613eaec.png" alt="image.png"></p>
<h4 id="2-选中file-gt-new-建立一个新的module-框架即搭建在这个module中，其中SDK选择自己安装的那个"><a href="#2-选中file-gt-new-建立一个新的module-框架即搭建在这个module中，其中SDK选择自己安装的那个" class="headerlink" title="2. 选中file->new,建立一个新的module,框架即搭建在这个module中，其中SDK选择自己安装的那个"></a>2. 选中file-&gt;new,建立一个新的module,框架即搭建在这个module中，其中SDK选择自己安装的那个</h4><p><img src="https://pic.rmb.bdstatic.com/bjh/14ded4b6773ea40b6560d64d41b2a9e6.png" alt="image.png"></p>
<p>对moudle进行命名和存放位置，注意父工程要设为none</p>
<p><img src="https://pic.rmb.bdstatic.com/bjh/90ebcf3492a73b3d63bbf9e824934950.png" alt="image.png"></p>
<p>选择自己maven安装的路径，不要用默认的，另外“user settings files”也要用自己安装的meven路径下的配置文件，同时注意local repository是否也是自己配置的文件夹。<br>解决maven创建过慢的问题，在添加Name：archetypeCatalog  Value：internal这一键值对，然后finish。</p>
<p><img src="https://pic.rmb.bdstatic.com/bjh/da1f0a2171d4ba436996d2e4a7f5739f.png" alt="image.png"></p>
<h4 id="3-接下到来在pom-xml中导入依赖坐标，将下面的部分代替原来pom-xml中的对应部分，"><a href="#3-接下到来在pom-xml中导入依赖坐标，将下面的部分代替原来pom-xml中的对应部分，" class="headerlink" title="3. 接下到来在pom.xml中导入依赖坐标，将下面的部分代替原来pom.xml中的对应部分，"></a>3. 接下到来在pom.xml中导入依赖坐标，将下面的部分代替原来pom.xml中的对应部分，</h4><pre><code>  &lt;properties&gt;
    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;
    &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;
    &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;
    &lt;spring.version&gt;5.0.2.RELEASE&lt;/spring.version&gt;
    &lt;slf4j.version&gt;1.6.6&lt;/slf4j.version&gt;
    &lt;log4j.version&gt;1.2.12&lt;/log4j.version&gt;
    &lt;mysql.version&gt;5.1.6&lt;/mysql.version&gt;
    &lt;mybatis.version&gt;3.4.5&lt;/mybatis.version&gt;
  &lt;/properties&gt;

  &lt;dependencies&gt;
    &lt;!-- spring --&gt;
    &lt;dependency&gt;
      &lt;groupId&gt;org.aspectj&lt;/groupId&gt;
      &lt;artifactId&gt;aspectjweaver&lt;/artifactId&gt;
      &lt;version&gt;1.6.8&lt;/version&gt;
    &lt;/dependency&gt;

    &lt;dependency&gt;
      &lt;groupId&gt;org.springframework&lt;/groupId&gt;
      &lt;artifactId&gt;spring-aop&lt;/artifactId&gt;
      &lt;version&gt;${spring.version}&lt;/version&gt;
    &lt;/dependency&gt;

    &lt;dependency&gt;
      &lt;groupId&gt;org.springframework&lt;/groupId&gt;
      &lt;artifactId&gt;spring-context&lt;/artifactId&gt;
      &lt;version&gt;${spring.version}&lt;/version&gt;
    &lt;/dependency&gt;

    &lt;dependency&gt;
      &lt;groupId&gt;org.springframework&lt;/groupId&gt;
      &lt;artifactId&gt;spring-web&lt;/artifactId&gt;
      &lt;version&gt;${spring.version}&lt;/version&gt;
    &lt;/dependency&gt;

    &lt;dependency&gt;
      &lt;groupId&gt;org.springframework&lt;/groupId&gt;
      &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;
      &lt;version&gt;${spring.version}&lt;/version&gt;
    &lt;/dependency&gt;

    &lt;dependency&gt;
      &lt;groupId&gt;org.springframework&lt;/groupId&gt;
      &lt;artifactId&gt;spring-test&lt;/artifactId&gt;
      &lt;version&gt;${spring.version}&lt;/version&gt;
    &lt;/dependency&gt;

    &lt;dependency&gt;
      &lt;groupId&gt;org.springframework&lt;/groupId&gt;
      &lt;artifactId&gt;spring-tx&lt;/artifactId&gt;
      &lt;version&gt;${spring.version}&lt;/version&gt;
    &lt;/dependency&gt;

    &lt;dependency&gt;
      &lt;groupId&gt;org.springframework&lt;/groupId&gt;
      &lt;artifactId&gt;spring-jdbc&lt;/artifactId&gt;
      &lt;version&gt;${spring.version}&lt;/version&gt;
    &lt;/dependency&gt;

    &lt;dependency&gt;
      &lt;groupId&gt;junit&lt;/groupId&gt;
      &lt;artifactId&gt;junit&lt;/artifactId&gt;
      &lt;version&gt;4.12&lt;/version&gt;
      &lt;scope&gt;compile&lt;/scope&gt;
    &lt;/dependency&gt;

    &lt;dependency&gt;
      &lt;groupId&gt;mysql&lt;/groupId&gt;
      &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;
      &lt;version&gt;${mysql.version}&lt;/version&gt;
    &lt;/dependency&gt;

    &lt;dependency&gt;
      &lt;groupId&gt;javax.servlet&lt;/groupId&gt;
      &lt;artifactId&gt;servlet-api&lt;/artifactId&gt;
      &lt;version&gt;2.5&lt;/version&gt;
      &lt;scope&gt;provided&lt;/scope&gt;
    &lt;/dependency&gt;

    &lt;dependency&gt;
      &lt;groupId&gt;javax.servlet.jsp&lt;/groupId&gt;
      &lt;artifactId&gt;jsp-api&lt;/artifactId&gt;
      &lt;version&gt;2.0&lt;/version&gt;
      &lt;scope&gt;provided&lt;/scope&gt;
    &lt;/dependency&gt;

    &lt;dependency&gt;
      &lt;groupId&gt;jstl&lt;/groupId&gt;
      &lt;artifactId&gt;jstl&lt;/artifactId&gt;
      &lt;version&gt;1.2&lt;/version&gt;
    &lt;/dependency&gt;

    &lt;!-- log start --&gt;
    &lt;dependency&gt;
      &lt;groupId&gt;log4j&lt;/groupId&gt;
      &lt;artifactId&gt;log4j&lt;/artifactId&gt;
      &lt;version&gt;${log4j.version}&lt;/version&gt;
    &lt;/dependency&gt;

    &lt;dependency&gt;
      &lt;groupId&gt;org.slf4j&lt;/groupId&gt;
      &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;
      &lt;version&gt;${slf4j.version}&lt;/version&gt;
    &lt;/dependency&gt;

    &lt;dependency&gt;
      &lt;groupId&gt;org.slf4j&lt;/groupId&gt;
      &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;
      &lt;version&gt;${slf4j.version}&lt;/version&gt;
    &lt;/dependency&gt;

    &lt;!-- log end --&gt;
    &lt;dependency&gt;
      &lt;groupId&gt;org.mybatis&lt;/groupId&gt;
      &lt;artifactId&gt;mybatis&lt;/artifactId&gt;
      &lt;version&gt;${mybatis.version}&lt;/version&gt;
    &lt;/dependency&gt;

    &lt;dependency&gt;
      &lt;groupId&gt;org.mybatis&lt;/groupId&gt;
      &lt;artifactId&gt;mybatis-spring&lt;/artifactId&gt;
      &lt;version&gt;1.3.0&lt;/version&gt;
    &lt;/dependency&gt;

    &lt;dependency&gt;
      &lt;groupId&gt;c3p0&lt;/groupId&gt;
      &lt;artifactId&gt;c3p0&lt;/artifactId&gt;
      &lt;version&gt;0.9.1.2&lt;/version&gt;
      &lt;type&gt;jar&lt;/type&gt;
      &lt;scope&gt;compile&lt;/scope&gt;
    &lt;/dependency&gt;
  &lt;/dependencies&gt;

  &lt;build&gt;
    &lt;finalName&gt;ssm&lt;/finalName&gt;
    &lt;pluginManagement&gt;&lt;!-- lock down plugins versions to avoid using Maven defaults (may be moved to parent pom) --&gt;
      &lt;plugins&gt;
        &lt;plugin&gt;
          &lt;artifactId&gt;maven-clean-plugin&lt;/artifactId&gt;
          &lt;version&gt;3.0.0&lt;/version&gt;
        &lt;/plugin&gt;
        &lt;!-- see http://maven.apache.org/ref/current/maven-core/default-bindings.html#Plugin_bindings_for_war_packaging --&gt;
        &lt;plugin&gt;
          &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;
          &lt;version&gt;3.0.2&lt;/version&gt;
        &lt;/plugin&gt;
        &lt;plugin&gt;
          &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;
          &lt;version&gt;3.7.0&lt;/version&gt;
        &lt;/plugin&gt;
        &lt;plugin&gt;
          &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;
          &lt;version&gt;2.20.1&lt;/version&gt;
        &lt;/plugin&gt;
        &lt;plugin&gt;
          &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;
          &lt;version&gt;3.2.0&lt;/version&gt;
        &lt;/plugin&gt;
        &lt;plugin&gt;
          &lt;artifactId&gt;maven-install-plugin&lt;/artifactId&gt;
          &lt;version&gt;2.5.2&lt;/version&gt;
        &lt;/plugin&gt;
        &lt;plugin&gt;
          &lt;artifactId&gt;maven-deploy-plugin&lt;/artifactId&gt;
          &lt;version&gt;2.8.2&lt;/version&gt;
        &lt;/plugin&gt;
      &lt;/plugins&gt;
    &lt;/pluginManagement&gt;
  &lt;/build&gt;

&lt;/project&gt;</code></pre><p>导入之后，要等待其对jar包进行import，在下面这个文件夹中可以看到依赖的包</p>
<p><img src="https://pic.rmb.bdstatic.com/bjh/82423d3666ef2d3791e9f1d660c8dff7.png" alt="image.png"></p>
<p>建立相应包，在main目录下先建立两个文件夹，java和resources，并分别设为source root 和 resources root，java用来存放各个模块（如dao，service，controller）的源代码.java文件，而resources目录则存放配置文件，如spring的配置文件（applicationContext.xml）,springmvc的配置文件等等</p>
<p><img src="https://pic.rmb.bdstatic.com/bjh/dd5f2834122d87e57b53dedde8487a24.png" alt="image.png"></p>
<p><img src="https://pic.rmb.bdstatic.com/bjh/bbba003c3d954e2f11aba62fba5cecca.png" alt="image.png"></p>
<p><img src="https://pic.rmb.bdstatic.com/bjh/314d7fd458ec080837639a45f769f470.png" alt="image.png"></p>
<h4 id="4-在java文件夹下新建"><a href="#4-在java文件夹下新建" class="headerlink" title="4. 在java文件夹下新建"></a>4. 在java文件夹下新建</h4><pre><code>guang.fram.dao: 存放数据访问层的接口
guang.fram.domain: 存放资源类的bean，比如此例子中定义一个account类，并且定义getter，setter方法）, 
guang.fram.controller: 定义控制层的接口和方法
guang.fram.service: 服务层
guang.fram.test: 这是一个测试包，用来测试上面这些包中的方法及配置能否正常工作</code></pre><p>接下来开始创建接口和类<br>在guang.fram.domain定义一个account.java类<br>代码：</p>
<pre><code>package guang.fram.domain;
import java.io.Serializable;

/**
 * 帐户,在domain中构建java bean,即写一个类，类的属性与数据库表中的一些属性对应
 * 并且生成相应的getter 和 setter方法，然后再到dao层去写操作bean数据的接口
 */
public class Account implements Serializable{

    private Integer id;
    private String name;
    private Double money;

    public Integer getId() {
        return id;
    }

    public void setId(Integer id) {
        this.id = id;
    }

    public String getName() {
        return name;
    }
    public void setName(String name) {
        this.name = name;
    }
    public Double getMoney() {
        return money;
    }

    public void setMoney(Double money) {
        this.money = money;
    }
    @Override
    public String toString() {
        return "Account{" +
                "id=" + id +
                ", name='" + name + '\'' +
                ", money=" + money +
                '}';
    }
}</code></pre><p>然后在dao包中定义一个AccountDao的接口，因为对于Mybatis来说，只要给他提供接口就行了，所以接口中提供要进行的数据操作即可，这里定义两个方法，一个是查询数据的findAll方法，一个是保存数据的save方法，代码如下：</p>
<pre><code>
/*
* 此处写操作account bean 的接口，写两个方法，1. 获取所有账户
* 2. 保存账户信息
* 此处只需要写接口，因为对于mybatis，只要提供接口就可以了
* 然后在service层中要写对account的业务操作的接口，AccountService
* 该接口中也是以下的两个方法，但是在serveic包中还需要一个impl包，该
* 包中定义一个类实现以下两个方法
*
* */
package guang.fram.dao;
import guang.fram.domain.Account;
import java.util.List;
public interface AccountDao {

     //获取所有账户
public List&lt;Account&gt; findAll();
    //保存账户信息
    public void save(Account account);
}
</code></pre><p>然后到service包里边定义接口和实现类，实现类放在service下的专门新建的一个Impl包中<br>先在service中新建一个AccountService接口，里边的方法也就是上面dao接口里边的两个方法，代码如下：</p>
<pre><code>package guang.fram.service;

import guang.fram.domain.Account;
import java.util.List;

public interface AccountService {
    public List&lt;Account&gt; findAll();

    public void save(Account account);
}
</code></pre><p>然后service下新建一个Impl包<br>Impl包中定义实现类AccountServiceImpl，实现刚刚定义的接口，这里先做一个简单的输出作为实现，后面整合其它模块后再补充代码：</p>
<pre><code>/*
* 这个类实现serveic层中定义的接口accountServce，
* 这两个方法在dao层中即有声明
* 接下来还要在controller层中定义相应类
*
* 
* */


package guang.fram.service.Impl;

import guang.fram.domain.Account;
import guang.fram.service.AccountService;
import java.util.List;

public class AccountServiceImpl implements AccountService {
    @Override
    public List&lt;Account&gt; findAll() {
        System.out.println("业务层在查询所有账户信息");
        return null;
    }

    @Override
    public void save(Account account) {
        System.out.println("业务层在保存账户信息");

    }
}</code></pre><p>接下来还要在controller层中定义相应类AccounController</p>
<pre><code>//web层
package guang.fram.controller;

public class AccountController {
}
</code></pre><p>至此，三个部分的相应包建立好了，要整合三个模块，由于是spring分别整合springmvc和mybatis，所以先要配置spring，将对象交给spring的ioc进行管理。</p>
<h2 id="配置spring"><a href="#配置spring" class="headerlink" title="配置spring"></a>配置spring</h2><h4 id="1-要配置spring，就要在resources目录下新建一个配置文件，可以取名“applicationContext-xml”，新建方法和配置内容如下："><a href="#1-要配置spring，就要在resources目录下新建一个配置文件，可以取名“applicationContext-xml”，新建方法和配置内容如下：" class="headerlink" title="1. 要配置spring，就要在resources目录下新建一个配置文件，可以取名“applicationContext.xml”，新建方法和配置内容如下："></a>1. 要配置spring，就要在resources目录下新建一个配置文件，可以取名“applicationContext.xml”，新建方法和配置内容如下：</h4><p><img src="https://pic.rmb.bdstatic.com/bjh/558f3c3f8ba884d146caa8dee66bc332.png" alt="image.png"></p>
<p>新建时，可能会出现没有“spring config”那个选项，解决办法：</p>
<p>配置文件内容如下：</p>
<pre><code>&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xmlns:context="http://www.springframework.org/schema/context"
       xmlns:aop="http://www.springframework.org/schema/aop"
       xmlns:tx="http://www.springframework.org/schema/tx"
       xsi:schemaLocation="http://www.springframework.org/schema/beans
   http://www.springframework.org/schema/beans/spring-beans.xsd
   http://www.springframework.org/schema/context
   http://www.springframework.org/schema/context/spring-context.xsd
   http://www.springframework.org/schema/aop
   http://www.springframework.org/schema/aop/spring-aop.xsd
   http://www.springframework.org/schema/tx
   http://www.springframework.org/schema/tx/spring-tx.xsd"&gt;
    &lt;!--开启注解的扫描,但是只希望spring扫描dao层
    和service的注解，controller的注解由springMVC来负责，所以需要exclude掉有controller的注解--&gt;
    &lt;context:component-scan base-package="guang.fram"&gt;
        &lt;!--配置不需要spring扫描的注解--&gt;
        &lt;context:exclude-filter type="annotation" expression="org.springframework.stereotype.Controller"/&gt;
    &lt;/context:component-scan&gt;

&lt;/beans&gt;</code></pre><p>配置好之后，就可以使用注解来使用对象了，所以在AccountServiceImpl这个类前加service注解了<br>代码变成：</p>
<pre><code>package guang.fram.service.Impl;

import guang.fram.domain.Account;
import guang.fram.service.AccountService;
import org.springframework.stereotype.Service;

import java.util.List;

@Service("accountService")
public class AccountServiceImpl implements AccountService {
    @Override
    public List&lt;Account&gt; findAll() {
        System.out.println("业务层在查询所有账户信息");
        return null;
    }

    @Override
    public void save(Account account) {
        System.out.println("业务层在保存账户信息");

    }
}</code></pre><h5 id="测试"><a href="#测试" class="headerlink" title="测试"></a>测试</h5><p>接下来可在test包下新建TestSpring类来进行测试，测试代码如下，注意在这里使用test的注解，需要在pom.xml中配置juint的scope为compile，而不是test，具体请见pom.xml的相关配置：</p>
<pre><code>package guang.fram.test;

import guang.fram.service.AccountService;
import org.junit.Test;
import org.springframework.context.ApplicationContext;
import org.springframework.context.support.ClassPathXmlApplicationContext;

public class TestSpring {

    @Test
    public void run1(){
        /*
         * 使用spring的步骤
         * */

        //加载配置文件
ApplicationContext ac = new ClassPathXmlApplicationContext( "classpath:applicationContext.xml" );

        //获取对象,(获取的对象需要强转为相应的类型)
        AccountService as = (AccountService) ac.getBean("accountService");

        //调用方法
        as.findAll();

    }
}
</code></pre><p>然后点run，运行结果如下：</p>
<p><img src="https://pic.rmb.bdstatic.com/bjh/a83590889270f429a5cfc793afe50517.png" alt="image.png"></p>
<p>可见被正常调用，但上面有两个warning;</p>
<pre><code>log4j:WARN No appenders could be found for logger ( org. springframework. core. env. StandardEnvironment).
log4j:WARN Please initialize the log4j system properly.</code></pre><p>原因是log4j这个包的配置文件没有放到resoources包下，把log4j.properties文件粘到该包下即可。一般需要重启idea才生效。<br>到这一步时，目录已变成如下样子：</p>
<p> <img src="https://pic.rmb.bdstatic.com/bjh/eda6362c0c8c0de4021fade2a262df9f.png" alt="image.png"></p>
<p><img src="https://pic.rmb.bdstatic.com/bjh/25974b8afac7e99e70fc4dc455f4a696.png" alt="image.png"></p>
<p><strong>至此，单独的spring已经可以正常工作，接下来考虑配置springmvc以及整合spring和springmvc</strong></p>
<h2 id="配置SpringMVC"><a href="#配置SpringMVC" class="headerlink" title="配置SpringMVC"></a>配置SpringMVC</h2><p>Web的配置在webapp\WEB-INF\web.xml文件中，web-inf这个目录是web的内部访问的目录，浏览器是无法访问到里面的资源的，web.xml则用来写web项目的配置文件，在里面需要配置前端控制器，过滤器（解决中文乱码问题）以及加载springmvc的配置文件。注意，web.xml书写的内容，各个部分是要遵循一定顺叙的，否则会报错，比如filter在第二个部分，代码如下：</p>
<pre><code>&lt;!DOCTYPE web-app PUBLIC
        "-//Sun Microsystems, Inc.//DTD Web Application 2.3//EN"
        "http://java.sun.com/dtd/web-app_2_3.dtd" &gt;

&lt;web-app&gt;

  &lt;display-name&gt;Archetype Created Web Application&lt;/display-name&gt;


  &lt;!--解决中文乱码的问题，设置过滤器--&gt;
  &lt;filter&gt;
    &lt;filter-name&gt;characterEncodingFilter&lt;/filter-name&gt;
    &lt;filter-class&gt;org.springframework.web.filter.CharacterEncodingFilter&lt;/filter-class&gt;
    &lt;!--设定编码集--&gt;
    &lt;init-param&gt;
      &lt;param-name&gt;encoding&lt;/param-name&gt;
      &lt;param-value&gt;UTF-8&lt;/param-value&gt;
    &lt;/init-param&gt;
  &lt;/filter&gt;

  &lt;!--设置该字符过滤器要拦截的内容--&gt;
  &lt;filter-mapping&gt;
    &lt;filter-name&gt;characterEncodingFilter&lt;/filter-name&gt;
    &lt;!--表示所有的内容都被此过滤器拦截--&gt;
    &lt;url-pattern&gt;/*&lt;/url-pattern&gt;
  &lt;/filter-mapping&gt;



  &lt;!--这里是配置前端控制器--&gt;
  &lt;!--希望做的是 1.加载springMVC.xml配置文件
  &lt;
                1. 启动服务器，就创建该servlet--&gt;
 &lt;servlet&gt;
   &lt;servlet-name&gt;dispatchServlet&lt;/servlet-name&gt;
   &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;
   &lt;!--加载springMVC配置文件，springMVC.xml配置文件在resources目录下进行创建，
   创建的方法是：右键resources-&gt;new-&gt;选择xml configuration File-&gt;选择Spring config-&gt;命名为springMVC.xml--&gt;
   &lt;init-param&gt;
     &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;
     &lt;param-value&gt;classpath:springMVC.xml&lt;/param-value&gt;
   &lt;/init-param&gt;
   &lt;!--启动服务器，创建该servlet--&gt;
   &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;
 &lt;/servlet&gt;


&lt;servlet-mapping&gt;
  &lt;servlet-name&gt;dispatchServlet&lt;/servlet-name&gt;
  &lt;url-pattern&gt;/&lt;/url-pattern&gt;
&lt;/servlet-mapping&gt;
&lt;/web-app&gt;
</code></pre><p>此时，需要在resources目录下再创建一个springMVC.xml的配置文件，创建方法与applicationContext.xml的方法相同。<br>接下来配置springmvc.xml的内容，一共分为四部分：</p>
<ol>
<li>开启注解扫描。只扫描是Controller的注解（注意与spring的xml的配置对应）</li>
<li>配置视图解析器对象</li>
<li>过滤静态资源（即静态资源不进行拦截</li>
<li>开启springMVC注解的支持</li>
</ol>
<pre><code>
&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:mvc="http://www.springframework.org/schema/mvc" xmlns:context="http://www.springframework.org/schema/context"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xsi:schemaLocation="
        http://www.springframework.org/schema/beans
        http://www.springframework.org/schema/beans/spring-beans.xsd
        http://www.springframework.org/schema/mvc
        http://www.springframework.org/schema/mvc/spring-mvc.xsd
        http://www.springframework.org/schema/context
        http://www.springframework.org/schema/context/spring-context.xsd"&gt;
&lt;!--开启注解扫描。只扫描是Controller的注解,所以用include（注意与spring的xml的配置对应）--&gt;
    &lt;context:component-scan base-package="guang.fram"&gt;
        &lt;context:include-filter type="annotation" expression="org.springframework.stereotype.Controller"/&gt;
    &lt;/context:component-scan&gt;


    &lt;!--配置视图解析器对象--&gt;
    &lt;bean id="internalResourceViewResolver" class="org.springframework.web.servlet.view.InternalResourceViewResolver"&gt;
            &lt;!--配置前缀和后缀--&gt;
        &lt;!--web-info的pages目录下的文件，所以需要在WEB-INF下新建pages文件夹--&gt;
        &lt;property name="prefix" value="/WEB-INF/pages/"/&gt;
        &lt;!--后缀名为.jsp的文件--&gt;
        &lt;property name="suffix" value=".jsp"/&gt;
    &lt;/bean&gt;

    &lt;!--过滤静态资源（即静态资源不进行拦截？？）--&gt;
    &lt;mvc:resources location="/css/" mapping="/css/**" /&gt;
    &lt;mvc:resources location="/images/" mapping="/images/**" /&gt;
    &lt;mvc:resources location="/js/" mapping="/js/**" /&gt;

    &lt;!--开启springMVC注解的支持--&gt;
    &lt;mvc:annotation-driven/&gt;

&lt;/beans&gt;</code></pre><p>此时，需要在WEB-INF目录下新建pages文件夹，用来存放静态资源等，同时删除原来的index.jsp,再右键，创建一个新的jsp文件，仍然命名为index.jsp，该页面是启动服务器之后，浏览器自动打开的页面。index.jsp内容如下：</p>
<pre><code>&lt;%--
  Created by IntelliJ IDEA.
  User: guang
  Date: 2020/4/21
  Time: 16:32
  To change this template use File | Settings | File Templates.
--%&gt;
&lt;%@ page contentType="text/html;charset=UTF-8" language="java" %&gt;
&lt;html&gt;
&lt;%--先delete掉原来的index.jsp文件，然后new一个--%&gt;

&lt;head&gt;
    &lt;title&gt;Title&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;%--href后的account为一级目录，findAll为标签定义好此标签后，然后到controller包下的AccountController方法中定义findAll方法--%&gt;
&lt;a href="account/findAll"&gt;测试测试测试测试查询数据的数据&lt;/a&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre><p>这里的account/findAll，前面account是虚拟路径，findAll是资源路径，也即是servlet的路径，但是在springMVC里边用的是注解的形式。所以接下来修改在controller包下的AccountController类的内容，变成如下：</p>
<pre><code>package guang.fram.controller;
import org.springframework.stereotype.Controller;
import org.springframework.web.bind.annotation.RequestMapping;

/*
* 账户web，运行这个类之前，先要配置好SpringMVC.xml文件
* 以使得tomcat启动之后，相应的注解能够生效，同时index.jsp里面要提供请求找到此资源
* 的href，下面的return返回值是跳转页面的文件名，这些跳转页面放在web-inf目录下的
* 自建的pages文件夹中，并且要在springMVC.xml中配置视图解析器对象，即：
* &lt;!--配置视图解析器对象--&gt;
    &lt;bean id="internalResourceViewResolver" class="org.springframework.web.servlet.view.InternalResourceViewResolver"&gt;
            &lt;!--配置前缀和后缀--&gt;
        &lt;!--web-info的pages目录下的文件--&gt;
        &lt;property name="prefix" value="/WEB-INF/pages/"/&gt;
        &lt;!--后缀名为.jsp的文件--&gt;
        &lt;property name="suffix" value=".jsp"/&gt;
    &lt;/bean&gt;
* 以使得它能根据目录找到文件
* */
@Controller
@RequestMapping("/account")
public class AccountController {
    @RequestMapping("/findAll")
    public String findAll() {
        System.out.println("表现层在查询所有的账户信息");
//controller把数据存到这个域对象里边去了，然后通过下面的return转发到list.jsp页面
        //所以可以在该页面对list的数据做操作，比如遍历之类的

        //下面这句话的意思是往webapp目录下的pages目录里的list.jsp页面跳转,
        return "list";
    }
}</code></pre><p>由于要往pages文件夹下的list.jsp跳转，所以在该文件夹下新建list.jsp页面，内容如下：</p>
<pre><code>&lt;%--
  Created by IntelliJ IDEA.
  User: guang
  Date: 2020/4/24
  Time: 15:16
  To change this template use File | Settings | File Templates.
--%&gt;
&lt;%@ page contentType="text/html;charset=UTF-8" language="java" %&gt;
&lt;html&gt;
&lt;head&gt;
    &lt;title&gt;Title&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;h3&gt;查询了所有的账户信息，这是从AccountController类的findAll方法跳转来的&lt;/h3&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre><p>到这里之后，springMVC的单独配置基本完成，可以启动tomcat服务器测试一下，服务器启动和配置方法如下：</p>
<ol>
<li>选择右上角位置下拉菜单中的edit configurations</li>
</ol>
<p><img src="https://pic.rmb.bdstatic.com/bjh/5d660c4862a26cb1cd8d4f214c000459.png" alt="image.png"></p>
<ol start="2">
<li>进入到了如下页面：</li>
</ol>
<p><img src="https://pic.rmb.bdstatic.com/bjh/9737984ea0a7c2a96e3803c7e6a4a0b1.png" alt="image.png"></p>
<ol start="3">
<li>选择右侧的“+”号—&gt;选择Artifact，（如果打开里边本来就有项目在，则需要先移除掉，再添加）—-&gt;选择“ssm2:war exploded”,确认，此时不要选右下方的“OK”,而是切换到上方的“Server”那一栏，并按如下进行参数选择：</li>
</ol>
<p><img src="https://pic.rmb.bdstatic.com/bjh/4cfb568138b25c879e1ce7d7455dfd7d.png" alt="image.png"></p>
<ol start="4">
<li>点击右下方”OK”，此时就可以点击idea上方的启动按钮，启动tomcat服务器，正常来说浏览器会自动跳转到如下页面：</li>
</ol>
<p><img src="https://pic.rmb.bdstatic.com/bjh/2a3e3007ae388c593929a24248a3abbf.png" alt="image.png"></p>
<p>点击该链接：</p>
<p><img src="https://pic.rmb.bdstatic.com/bjh/09b67bf641230346e39fe94e1b483516.png" alt="image.png"></p>
<h2 id="Spring-与-SpringMVC的整合"><a href="#Spring-与-SpringMVC的整合" class="headerlink" title="Spring 与 SpringMVC的整合"></a>Spring 与 SpringMVC的整合</h2><p>spring再整合springMVC框架</p>
<pre><code>要整合spring与springMVC，即要在controller中也能使用spring中的service，构建bean对象，但是原来的单纯的springMVC的配置文件中，只配置了扫描Controller注解，而不会扫描service注解，所以即是要启动服务器时，同时加载spring与springmvc的配置文件。</code></pre><p>当启动tomcat服务器的时候，web.xml里面如果只配置了springMVC..xml文件，则只会加载springMVC的配置，而没有去扫描spring的配置文件。为了启动服务器时同时加载spring的配置文件，需要在web.xml中配置一个监听器，监听当启动服务器，创建了servletContext对象（域对象，只创建一次销毁一次，当服务器启动的时候，它被创建，当服务器关闭时，它被销毁）的时候，此时去加载spring的配置文件。</p>
<p>但还有个问题是该监听器默认只加载WEB-INF目录下的applicationContext.xml配置文件，而spring的配置文件放在了resources目录下，因此该listener找不到，所以还需要在web.xml中配置其路径。</p>
<p>所以，将原来的web.xml文件修改为如下，红色部分即新添内容，之所以放在不同位置，是因为要遵循web.xml的书写顺叙：</p>
<pre><code>&lt;!DOCTYPE web-app PUBLIC
        "-//Sun Microsystems, Inc.//DTD Web Application 2.3//EN"
        "http://java.sun.com/dtd/web-app_2_3.dtd" &gt;

&lt;web-app&gt;

  &lt;display-name&gt;Archetype Created Web Application&lt;/display-name&gt;


  &lt;!--配置路径，以使得监听器能去加载spring的配置文件applicationContext,配置好之后，就能在
  AccountController类中使用依赖注入了--&gt;
  &lt;context-param&gt;
    &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;
    &lt;param-value&gt;classpath:applicationContext.xml&lt;/param-value&gt;
  &lt;/context-param&gt;

  &lt;!--解决中文乱码的问题，设置过滤器--&gt;
  &lt;filter&gt;
    &lt;filter-name&gt;characterEncodingFilter&lt;/filter-name&gt;
    &lt;filter-class&gt;org.springframework.web.filter.CharacterEncodingFilter&lt;/filter-class&gt;
    &lt;!--设定编码集--&gt;
    &lt;init-param&gt;
      &lt;param-name&gt;encoding&lt;/param-name&gt;
      &lt;param-value&gt;UTF-8&lt;/param-value&gt;
    &lt;/init-param&gt;
  &lt;/filter&gt;

  &lt;!--设置该字符过滤器要拦截的内容--&gt;
  &lt;filter-mapping&gt;
    &lt;filter-name&gt;characterEncodingFilter&lt;/filter-name&gt;
    &lt;!--表示所有的内容都被此过滤器拦截--&gt;
    &lt;url-pattern&gt;/*&lt;/url-pattern&gt;
  &lt;/filter-mapping&gt;

  &lt;!--配置监听器，因为启动服务器后，加载web.xml文件，根据此文件加载springMVC的配置文件，而没有去加载spring的配置文件，
  所以需要设置此监听器，当服务器启动开始加载servletContext对象时，也去加载spring的配置文件
 但该监听器 默认只加载WEB-INF目录下的applicationContext.xml配置文件，所以下面还需要配置其路径
  --&gt;
  &lt;listener&gt;
    &lt;listener-class&gt;org.springframework.web.context.ContextLoaderListener&lt;/listener-class&gt;
  &lt;/listener&gt;

  &lt;!--这里是配置前端控制器--&gt;
  &lt;!--希望做的是 1.加载springMVC.xml配置文件
  &lt;
                2. 启动服务器，就创建该servlet--&gt;
  &lt;servlet&gt;
    &lt;servlet-name&gt;dispatchServlet&lt;/servlet-name&gt;
    &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;
    &lt;!--加载springMVC配置文件，springMVC.xml配置文件在resources目录下进行创建，
    创建的方法是：右键resources-&gt;new-&gt;选择xml configuration File-&gt;选择Spring config-&gt;命名为springMVC.xml--&gt;
    &lt;init-param&gt;
      &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;
      &lt;param-value&gt;classpath:springMVC.xml&lt;/param-value&gt;
    &lt;/init-param&gt;
    &lt;!--启动服务器，创建该servlet--&gt;
    &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;
  &lt;/servlet&gt;


  &lt;servlet-mapping&gt;
    &lt;servlet-name&gt;dispatchServlet&lt;/servlet-name&gt;
    &lt;url-pattern&gt;/&lt;/url-pattern&gt;
  &lt;/servlet-mapping&gt;


&lt;/web-app&gt;
</code></pre><p>这样配置好之后，就能将controller和service都放入到容器中进行管理，也就是说在AccountController也能使用service的注解了。为了测试，在AccountController定义一个AccountService的对象，用autowired进行自动注入，AccountController类变成如下：</p>
<pre><code>package guang.fram.controller;

import guang.fram.service.AccountService;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.stereotype.Controller;
import org.springframework.web.bind.annotation.RequestMapping;

@Controller
@RequestMapping("/account")
public class AccountController {
    @Autowired
    private AccountService accountService;

    @RequestMapping("/findAll")
    public String findAll() {
        System.out.println("表现层在查询所有的账户信息");

        accountService.findAll();//这里调用的方法时service层里边的

        //下面这句话的意思是往webapp目录下的pages目录里的list.jsp页面跳转,
        return "list";
    }
}</code></pre><p>此时再启动服务器，当点击页面链接时，即会调用controller中的findAll方法，控制台会输出System.out.println(“表现层在查询所有的账户信息”); 而findAll方法中，又有accountService.findAll();它会调用到AccountService里的findAll方法，所以此时控制台应该输出两句话，如下：</p>
<p><img src="https://pic.rmb.bdstatic.com/bjh/ae29cf787bb46f5183190425f3da91b3.png" alt="image.png"></p>
<p>说明在controller层中也能使用service层中的对象和方法了，spring和springMVC整合完毕。</p>
<h2 id="配置Mybatis"><a href="#配置Mybatis" class="headerlink" title="配置Mybatis"></a>配置Mybatis</h2><ol>
<li>先单独配置好mybatis，测试通过后再进行spring与mybatis的整合，由于mybatis可以使用注解的方式，所以现在只需要配置一个SqlMapConfig.xml的配置文件即可。先再AccountDao.java接口中写好sql的注解,变成如下：</li>
</ol>
<pre><code>package guang.fram.dao;

import guang.fram.domain.Account;
import org.apache.ibatis.annotations.Insert;
import org.apache.ibatis.annotations.Select;

import java.util.List;

public interface AccountDao {


        //获取所有账户
        @Select("select * from account")
        public List&lt;Account&gt; findAll();
        //保存账户信息
        @Insert("insert into account (name,money) value (#{name},#{money})")
        public void saveAccount(Account account);
    }</code></pre><ol start="2">
<li>接下来在resources目录下创建配置文件SqlMapConfig.xml，右键resources–&gt;选择”file”–&gt;命名为：SqlMapConfig.xml。配置文件内容如下：</li>
</ol>
<pre><code>&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;!DOCTYPE configuration
        PUBLIC "-//mybatis.org//DTD Config 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-config.dtd"&gt;
&lt;configuration&gt;
    &lt;!--两大部分，1. 配置环境 2. 引入映射配置文件--&gt;

    &lt;!-- 配置连接数据库的信息 --&gt;
    &lt;properties resource="jdbcConfig.properties"&gt;&lt;/properties&gt;

    &lt;!--配置环境--&gt;
    &lt;environments default="mysql"&gt;
        &lt;environment id="mysql"&gt;
            &lt;!-- 配置事务管理 --&gt;
            &lt;transactionManager type="JDBC"&gt;&lt;/transactionManager&gt;
            &lt;dataSource type="POOLED"&gt;
                &lt;property name="driver" value="${jdbc.driver}"/&gt;
                &lt;!--注意url这个属性是连接自己的数据库，所以在配置文件中是这个值：jdbc.url=jdbc:mysql://localhost:3306/ssm
                上面地址3306后面是database的名字，此外，下面的${}这种形式的是通过配置文件读取相应值的方式，配置文件放在了resources目录下，文件名为：jdbcConfig.properties，但是url这个属性在ssm的后面需要添加?useUnicode=true&amp;amp;characterEncoding=utf8以解决传输时，出现中文乱码的问题--&gt;
                &lt;property name="url" value="jdbc:mysql://localhost:3306/ssm?useUnicode=true&amp;amp;characterEncoding=utf8"/&gt;
                &lt;property name="username" value="${jdbc.username}"/&gt;
                &lt;property name="password" value="${jdbc.password}"/&gt;

            &lt;/dataSource&gt;


        &lt;/environment&gt;
    &lt;/environments&gt;
    &lt;!--引入映射配置文件，以使得mybatis能扫描到相应的注解，有两种方式，一直是把放了注解的相应类的全限定名
    赋给class属性，第二种将该类所在的包名赋给package属性，这种方法可以将该包名下所有的注解都扫描到，相应方便一些
    要注意两个路径开始的开始位置，取全限定名就没问题--&gt;
    &lt;mappers&gt;
        &lt;!--第一种方法
        &lt;mapper class="guang.fram.dao.AccountDao"/&gt;
        --&gt;

        &lt;!--第二种方法，如果还有其他的包需要扫描，则可以继续添加到下面--&gt;
        &lt;package name="guang.fram.dao"/&gt;
    &lt;/mappers&gt;
&lt;/configuration&gt;</code></pre><ol start="3">
<li>接下来在test包中新建一个testMybatis类来测试mybatis是否配置成功，使用mybatis过程及代码如下：</li>
</ol>
<pre><code>package guang.fram.test;

import guang.fram.dao.AccountDao;
import guang.fram.domain.Account;
import org.apache.ibatis.io.Resources;
import org.apache.ibatis.session.SqlSession;
import org.apache.ibatis.session.SqlSessionFactory;
import org.apache.ibatis.session.SqlSessionFactoryBuilder;
import org.junit.Test;

import java.io.IOException;
import java.io.InputStream;
import java.util.List;

/*
* 这个测试类用来测试mybatis的连接情况
* */

public class testMybatis {
    //测试对数据库的查询操作
    @Test
    public void run1() throws Exception {
      /*
      * 步骤 1.加载配置文件
      * 2.创建SqlSessionFactory对象
      * 3.用工厂factory创建SqlSession对象
      * 4.用工厂factory创建SqlSession对象
      * 5.获取代理对象
      * 6.用此代理对象可以操作相应接口中（AccountDao）的所有方法
      * 7.关闭资源
      *
      * 以下使用的方法中有很多是重载的，要注意根据传入的参数进行选择
      * */

        //加载配置文件(定义Resources的时候选用org.apache.ibatis.io那一个),并将抛出的异常改为Exception
        InputStream in = Resources.getResourceAsStream("SqlMapConfig.xml");

        //创建SqlSessionFactory对象
        SqlSessionFactory factory = new SqlSessionFactoryBuilder().build(in);

        //用工厂factory创建SqlSession对象
        SqlSession session = factory.openSession();

        //获取代理对象
        AccountDao dao = session.getMapper(AccountDao.class);

        //用此代理对象可以操作相应接口中（AccountDao）的所有方法
        List&lt;Account&gt; list = dao.findAll();
        for(Account a : list) {
            System.out.println(a);
        }
        //关闭资源
        session.close();
        in.close();

    }

    //测试对数据库的添加保存工作，注意，查询不需要提交事务，但增删改需要，即执行完后要session.commit();

    @Test
    public void run2() throws Exception {


        InputStream in = Resources.getResourceAsStream("SqlMapConfig.xml");

        SqlSessionFactory factory = new SqlSessionFactoryBuilder().build(in);

        SqlSession session = factory.openSession();

        AccountDao dao = session.getMapper(AccountDao.class);

        //用此代理对象可以操作相应接口中（AccountDao）的所有方法
        Account ac = new Account();
        ac.setName("崔八");
        ac.setMoney(1000.0);
        dao.saveAccount(ac);
        //提交事务
        session.commit();
        //关闭资源
        session.close();
        in.close();

    }

}
</code></pre><p>接下来运行run1函数，结果如下，其中的”??”并不是出现了乱码，而是数据库中本来存储的就是”??”：</p>
<p><img src="https://pic.rmb.bdstatic.com/bjh/fac72848a102427d7ef0099d5fc1b8c7.png" alt="image.png"></p>
<h2 id="整合spring与mybatis"><a href="#整合spring与mybatis" class="headerlink" title="整合spring与mybatis"></a>整合spring与mybatis</h2><ol>
<li>Spring整合Mybatis</li>
</ol>
<p>即要在service里边能调用mybatis的对象，与整合springMVC的原理类似，spring可以将对象通过ioc进行管理，而mybatis是通过代理对象实现的，如果能把代理对象也放到spring中进行管理，然后通过注入进行使用，则可以实现spring与mybatis的整合了</p>
<pre><code>    &lt;!--spring整合mybatis框架--&gt;
    &lt;!--spring整合mybatis框架，需要配置三个部分--&gt;
    &lt;!--
    1. 配置连接池
    2.配置SqlSessionFactory工厂，因为通过工程能拿到session代理，有了代理能将
    对象存到容器当中去管理
    3. 配置AccountDao所在的包，因为要通过这些包，让spring知道创建哪些接口的对象
    --&gt;
    &lt;!--配置连接池--&gt;
   &lt;bean id="dataSource" class="com.mchange.v2.c3p0.ComboPooledDataSource"&gt;
       &lt;!--配置四个属性--&gt;
       &lt;property name="driverClass" value="com.mysql.jdbc.Driver"/&gt;
&lt;!--下面的url同样要注意在ssm的后面加上”?characterEncoding=utf8”,防止传输时出现中文乱码--&gt;
       &lt;property name="jdbcUrl" value="jdbc:mysql:///ssm?characterEncoding=utf8"/&gt;
       &lt;property name="user" value="root"/&gt;
       &lt;property name="password" value=""/&gt;
   &lt;/bean&gt;
    &lt;!--配置工厂--&gt;
&lt;bean id="sqlSessionFactory" class="org.mybatis.spring.SqlSessionFactoryBean"&gt;
    &lt;!--再引入上面常见的datasource--&gt;
    &lt;property name="dataSource" ref="dataSource"/&gt;
&lt;/bean&gt;
    &lt;!--配置dao接口所在的包--&gt;
    &lt;bean id="mapperScanner" class="org.mybatis.spring.mapper.MapperScannerConfigurer"&gt;
        &lt;property name="basePackage" value="guang.fram.dao"/&gt;
    &lt;/bean&gt;
    &lt;!--配置好之后，可以删掉SqlMapConfig.xml了，然后在AccountDao.java的接口前面加上@Repository的注解--&gt;
</code></pre><p>配置好之后，可以删掉SqlMapConfig.xml了（不删也不影响），然后在AccountDao.java的接口前面加上@Repository的注解，加上这个注解之后，意味着这个接口交给spring进行管理了，就可以到AccountServiceImpl里面注入这个接口并使用了。<br>AccountDao接口变成了如下：</p>
<pre><code>package guang.fram.dao;

import guang.fram.domain.Account;
import org.apache.ibatis.annotations.Insert;
import org.apache.ibatis.annotations.Select;
import org.springframework.stereotype.Repository;

import java.util.List;

/*
* 此处写操作account bean 的接口，写两个方法，1. 获取所有账户
* 2. 保存账户信息
* 此处只需要写接口，因为对于mybatis，只要提供接口就可以了
* 然后在service层中要写对account的业务操作的接口，AccountService
* 该接口中也是以下的两个方法，但是在serveic包中还需要一个impl包，该
* 包中定义一个类实现以下两个方法
*
* */
@Repository
//加上上面那个注解之后，就可以到AccountServiceImpl里面注入这个接口并使用了


public interface AccountDao {

    //获取所有账户
    @Select("select * from account")
    public List&lt;Account&gt; findAll();
    //保存账户信息
    @Insert("insert into account (name,money) value (#{name},#{money})")
    public void saveAccount(Account account);
}
</code></pre><p>然后进入到AccoutServiceImpl.java这个类，进行注入并使用，因为之前该类中的findAll方法和save方法只是做了一个简单的输出，而现在那个类也可以使用mybatis的代理对象了，所以她的findAll方法就可以通过这个代理对象去实际的操作数据库，该类变成如下：</p>
<pre><code>package guang.fram.service.impl;

import guang.fram.dao.AccountDao;
import guang.fram.domain.Account;
import guang.fram.service.AccountService;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.stereotype.Service;

import java.util.List;
/*
* 这个类实现serveic层中定义的接口accountServci，
* 这两个方法在dao层中即有声明
* 接下来还要在controller层中定义相应类
*
* 这个service的类要交给spring的ioc进行管理，先要对resources目录下的配置文件配置spring进行注解的
* 扫描
* */
@Service("accountService")
public class AccountServiceImpl implements AccountService {
    @Autowired
    private AccountDao accountDao;

    @Override
    public List&lt;Account&gt; findAll() {
        System.out.println("业务层在查询所有账户信息");
        //return null;

        //使用spring整合mybatis之后，通过ioc得到的accountDao来调用
        return accountDao.findAll();
    }

    @Override
    public void saveAccount(Account account) {
        System.out.println("业务层在保存账户信息");

        //使用spring整合mybatis之后，通过ioc得到的accountDao来调用
        accountDao.saveAccount(account);

    }
}
</code></pre><p>而AccountContorller.java也已经与spring整合好了，controller中的findAll方法又调用了service中的findAll方法，这样一来，相当于从contoller层操作到了数据库，而service的findAll的方法从数据库拿到的数据就返回给了controller，因此AccountController.java对该数据可以进行一下保存，并返回给list.jsp页面，list.jsp再可以对拿到的数据做个遍历显示出来。<br>AccountController.java修改成如下：</p>
<pre><code>package guang.fram.controller;


import guang.fram.domain.Account;
import guang.fram.service.AccountService;
//import jdk.packager.internal.Module;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.stereotype.Controller;
import org.springframework.ui.Model;
import org.springframework.web.bind.annotation.RequestMapping;

import java.util.List;

/*
* 账户web，运行这个类之前，先要配置好SpringMVC.xml文件
* 以使得tomcat启动之后，相应的注解能够生效，同时index.jsp里面要提供请求找到此资源
* 的href，下面的return返回值是跳转页面的文件名，这些跳转页面放在web-inf目录下的
* 自建的pages文件夹中，并且要在springMVC.xml中配置视图解析器对象，即：
* 
* &lt;!--配置视图解析器对象--&gt;
    &lt;bean id="internalResourceViewResolver" class="org.springframework.web.servlet.view.InternalResourceViewResolver"&gt;
            &lt;!--配置前缀和后缀--&gt;
        &lt;!--web-info的pages目录下的文件--&gt;
        &lt;property name="prefix" value="/WEB-INF/pages/"/&gt;
        &lt;!--后缀名为.jsp的文件--&gt;
        &lt;property name="suffix" value=".jsp"/&gt;
    &lt;/bean&gt;
* 以使得它能根据目录找到文件
* */
@Controller
@RequestMapping("/account")
public class AccountController {

    /*在web.xml中配置好监听器之后，就整合好了spring与springmvc，就可以在这个类中使用依赖注入了*/
    @Autowired
    private AccountService accountService;

    @RequestMapping("/findAll")
    public String findAll(Model model){
        System.out.println("表现层在查询所有的账户信息");

        //下面这个是使用了spring的依赖注入后生成的对象所调用的service里面的方法
        List&lt;Account&gt; list = accountService.findAll();


        //然后在上面的findAll的参数表里边用一个Moudel对象，将数据存入一个键值对里边
        model.addAttribute("list",list);

        //controller把数据存到这个域对象里边去了，然后通过下面的return转发到list.jsp页面
        //所以可以在该页面对list的数据做操作，比如遍历之类的

        //下面这句话的意思是往webapp目录下的pages目录里的list.jsp页面跳转,
        return "list";
    }

    //页面提交的数据保存到数据库的功能
    @RequestMapping("/save")
    //从页面提交拿到的数据，要先封装，可以直接在参数列表中定义一个Account对象，会自动将传入的参数封装到此对象中
    //然后直接使用spring管理的对象accountService直接调用save方法就可以了
    public String save(Account account){
        accountService.save(account);
        return "list";
    }
}
</code></pre><p>修改list.jsp页面为如下：</p>
<pre><code>&lt;%--
  Created by IntelliJ IDEA.
  User: guang
  Date: 2020/4/21
  Time: 16:42
  To change this template use File | Settings | File Templates.
--%&gt;

&lt;%--用El,所以下面这句最后要加上那一句--%&gt;
&lt;%@ page contentType="text/html;charset=UTF-8" language="java" isELIgnored="false" %&gt;
&lt;%--引入jstl的标签库--%&gt;
&lt;%@taglib prefix="c" uri="http://java.sun.com/jsp/jstl/core" %&gt;

&lt;html&gt;
&lt;head&gt;
    &lt;title&gt;Title&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;h3&gt;表现层查询了所有的账户信息，这是从controller包下的AccountController类里的findAll方法跳转来的&lt;/h3&gt;

&lt;%--对传过来的list进行迭代,items属性值的是要遍历的集合，var是给集合中变量的命名--%&gt;
&lt;c:forEach items="${list}" var="account"&gt;
${account.name}
    ${account.money}
&lt;/c:forEach&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre><p>此时再次启动tomcat服务器，页面如下：</p>
<p><img src="https://pic.rmb.bdstatic.com/bjh/2f5d9a1a61f8f74c302133db2b215430.png" alt="image.png"></p>
<p>点击链接后，跳转：</p>
<p><img src="https://pic.rmb.bdstatic.com/bjh/6aba7cbc2238b2d2c4aa4fd5b74ae406.png" alt="image.png"></p>
<p>可见，通过上面的调用，AccountController拿到了数据库的数据。</p>
<h2 id="spring进行声明式事务管理"><a href="#spring进行声明式事务管理" class="headerlink" title="spring进行声明式事务管理"></a>spring进行声明式事务管理</h2><p>如果要实现对account数据的保存，则还需要在spring的配置文件applicationContext.xml中进行声明式事务管理<br>配置分三部分：</p>
<ol>
<li>配置事务管理器   </li>
<li>配置事务通知</li>
<li>配置AOP增强<br>在applicationContext.xml添加如下部分：</li>
</ol>
<pre><code>&lt;!--配置spring的声明式事务管理，因为要实现将页面提交的数据保存到数据库中，需要进行此配置--&gt;
    &lt;!--配置分三部分：1.配置事务管理器   2. 配置事务通知   3. 配置AOP增强--&gt;

    &lt;!--1.配置事务管理器--&gt;
    &lt;bean id="transactionManager" class="org.springframework.jdbc.datasource.DataSourceTransactionManager"&gt;
        &lt;!--需要传入连接池这个引用--&gt;
        &lt;property name="dataSource" ref="dataSource"/&gt;

    &lt;/bean&gt;

    &lt;!--2. 配置事务通知,将上面的事务管理器传进来--&gt;
    &lt;tx:advice id="txAdvice" transaction-manager="transactionManager"&gt;
        &lt;!--配置事务的属性，比如隔离级别，以及哪些方法配置事务通知--&gt;
        &lt;tx:attributes&gt;
            &lt;!--将带有find的方法设置为read-only级别--&gt;
            &lt;tx:method name="find" read-only="true"/&gt;
            &lt;!--将其他的方法的隔离级别设置为默认--&gt;
            &lt;tx:method name="*" isolation="DEFAULT"/&gt;
        &lt;/tx:attributes&gt;
    &lt;/tx:advice&gt;

    &lt;!--3. 配置AOP增强--&gt;
    &lt;!--将上面的事务通知引用进来，并且设置aop增强的切入点，即该包下的所有方法都进行增强
    第一个*号表示返回值任意，后面表示iml包下的，所有后缀为ServiceImpl的类的，所有有任意参数的方法都进行aop增强--&gt;
    &lt;!--接下来就可以到index.jsp中写一个表单，来测试是否能添加保存数据了--&gt;


    &lt;aop:config&gt;
&lt;aop:advisor advice-ref="txAdvice" pointcut="execution(* guang.fram.service.impl.*ServiceImpl.*(..))"/&gt;
    &lt;/aop:config&gt;
</code></pre><p>配置好之后，则需要从页面中提交数据，然后看是否能保存到数据库中，其具体的执行过程是，调用cotroller中的save方法，而它里面调用了AccountServiceImpl的save方法，这个save方法里面又有AccountDao的代理对象，它可以调用dao的save方法，即将数据保存到数据库中。<br>要从页面提交数据，则需要在index.jsp中先写一个表单，index.jsp修改后如下：</p>
<pre><code>&lt;%--
  Created by IntelliJ IDEA.
  User: guang
  Date: 2020/4/21
  Time: 16:32
  To change this template use File | Settings | File Templates.
--%&gt;
&lt;%@ page contentType="text/html;charset=UTF-8" language="java" %&gt;
&lt;html&gt;
&lt;%--先delete掉原来的index.jsp文件，然后new一个--%&gt;

&lt;head&gt;
    &lt;title&gt;Title&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;%--href后的account为一级目录，findAll为标签
定义好此标签后，然后到controller包下的AccountController方法中定义findAll方法--%&gt;
&lt;a href="account/findAll"&gt;测试测试测试测试查询数据的数据&lt;/a&gt;


&lt;%--测试保存数据，action表示请求路径，要在AccountController中提供相应的访问路径和方法--%&gt;
&lt;form action="account/save" method="post"&gt;
    姓名 &lt;input type="text" name="name"/&gt; &lt;br/&gt;
    金额 &lt;input type="text" name="money"/&gt; &lt;br/&gt;
    &lt;input type="submit" value="保存"&gt;
&lt;/form&gt;

&lt;/body&gt;
&lt;/html&gt;
</code></pre><p> action=”account/save” 是请求路径，这个是放在AccountController里的注解，如下：</p>
<pre><code>package guang.fram.controller;


import guang.fram.domain.Account;
import guang.fram.service.AccountService;
//import jdk.packager.internal.Module;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.stereotype.Controller;
import org.springframework.ui.Model;
import org.springframework.web.bind.annotation.RequestMapping;

import java.util.List;
@Controller
@RequestMapping("/account")
public class AccountController {

    /*在web.xml中配置好监听器之后，就整合好了spring与springmvc，就可以在这个类中使用依赖注入了*/
    @Autowired
    private AccountService accountService;

    @RequestMapping("/findAll")
    public String findAll(Model model){
        System.out.println("表现层在查询所有的账户信息");

        //下面这个是使用了spring的依赖注入后生成的对象所调用的service里面的方法
        List&lt;Account&gt; list = accountService.findAll();

        //然后在上面的findAll的参数表里边用一个Moudel对象，将数据存入一个键值对里边
        model.addAttribute("list",list);
        return "list";
    }

    //页面提交的数据保存到数据库的功能
    @RequestMapping("/save")
    //从页面提交拿到的数据，要先封装，可以直接在参数列表中定义一个Account对象，会自动将传入的参数封装到此对象中
    //然后直接使用spring管理的对象accountService直接调用save方法就可以了
    public String save(Account account){
        accountService.saveAccount(account);
        return "list";
    }

}</code></pre><p>至此，所有的整合完毕，再次启动服务器进行测试，启动后，页面如下，并填入数据：</p>
<p><img src="https://pic.rmb.bdstatic.com/bjh/96ab09dc2ebcc4088c3e531590bf7c20.png" alt="image.png"></p>
<p>点击”保存”后，查看数据库是是否数据插入成功：</p>
<p><img src="https://pic.rmb.bdstatic.com/bjh/53041c31fb52c25e9fc3f5eb96f2fb81.png" alt="image.png"></p>
<p>但是”保存”之后直接跳转list页面的，而此时的list页面因为没有经过findAll方法，所以显示的还是如下内容：</p>
<p><img src="https://pic.rmb.bdstatic.com/bjh/f2a3fbd7186b5f093071cb0de4f96b63.png" alt="image.png"></p>
<p>如果想要保存后，跳转的页面显示数据库中所有的数据，则可以使用转发，由save转发到findAll这个servlet。代码如下：</p>
<pre><code> /*
 * 或者可以保存数据后，不直接跳到list页面，而是使用重定向到findAll方法，将数据库的数据再显示出来，代码如下
 * */
public String save(Account account, HttpServletRequest request, HttpServletResponse response) throws Exception {
     accountService.save(account);
     //重定向到findAll那个servlet去，这样跳转的list页面里就会把数据库的数据也显示出来了
     response.sendRedirect(request.getContextPath()+"/account/findAll");
     return "list";
 }</code></pre><p>使用这个save方法，点击”保存”后，跳转的页面是这样的</p>
<p><img src="https://pic.rmb.bdstatic.com/bjh/ca3ef6f2d1552194f7c915da4ceaf174.png" alt="image.png"></p>
<p>至此，所有的整合完毕，ssm框架已经搭建好了。</p>
<script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>
            </div>
            <hr/>

            

    <div class="reprint" id="reprint-statement">
        
            <div class="reprint__author">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-user">
                        文章作者:
                    </i>
                </span>
                <span class="reprint-info">
                    <a href="/about" rel="external nofollow noreferrer">风雪夜归人</a>
                </span>
            </div>
            <div class="reprint__type">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-link">
                        文章链接:
                    </i>
                </span>
                <span class="reprint-info">
                    <a href="http://abulading.cn/2020/06/03/ru-he-yi-bu-bu-da-jian-ssm-kuang-jia/">http://abulading.cn/2020/06/03/ru-he-yi-bu-bu-da-jian-ssm-kuang-jia/</a>
                </span>
            </div>
            <div class="reprint__notice">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-copyright">
                        版权声明:
                    </i>
                </span>
                <span class="reprint-info">
                    本博客所有文章除特別声明外，均采用
                    <a href="https://creativecommons.org/licenses/by/4.0/deed.zh" rel="external nofollow noreferrer" target="_blank">CC BY 4.0</a>
                    许可协议。转载请注明来源
                    <a href="/about" target="_blank">风雪夜归人</a>
                    !
                </span>
            </div>
        
    </div>

    <script async defer>
      document.addEventListener("copy", function (e) {
        let toastHTML = '<span>复制成功，请遵循本文的转载规则</span><button class="btn-flat toast-action" onclick="navToReprintStatement()" style="font-size: smaller">查看</a>';
        M.toast({html: toastHTML})
      });

      function navToReprintStatement() {
        $("html, body").animate({scrollTop: $("#reprint-statement").offset().top - 80}, 800);
      }
    </script>



            <div class="tag_share" style="display: block;">
                <div class="post-meta__tag-list" style="display: inline-block;">
                    
                        <div class="article-tag">
                            
                                <a href="/tags/SSM/">
                                    <span class="chip bg-color">SSM</span>
                                </a>
                            
                        </div>
                    
                </div>
                <div class="post_share" style="zoom: 80%; width: fit-content; display: inline-block; float: right; margin: -0.15rem 0;">
                    <link rel="stylesheet" type="text/css" href="/libs/share/css/share.min.css">
<div id="article-share">

    
    <div class="social-share" data-sites="twitter,facebook,google,qq,qzone,wechat,weibo,douban,linkedin" data-wechat-qrcode-helper="<p>微信扫一扫即可分享！</p>"></div>
    <script src="/libs/share/js/social-share.min.js"></script>
    

    

</div>

                </div>
            </div>
            
                <style>
    #reward {
        margin: 40px 0;
        text-align: center;
    }

    #reward .reward-link {
        font-size: 1.4rem;
        line-height: 38px;
    }

    #reward .btn-floating:hover {
        box-shadow: 0 6px 12px rgba(0, 0, 0, 0.2), 0 5px 15px rgba(0, 0, 0, 0.2);
    }

    #rewardModal {
        width: 320px;
        height: 350px;
    }

    #rewardModal .reward-title {
        margin: 15px auto;
        padding-bottom: 5px;
    }

    #rewardModal .modal-content {
        padding: 10px;
    }

    #rewardModal .close {
        position: absolute;
        right: 15px;
        top: 15px;
        color: rgba(0, 0, 0, 0.5);
        font-size: 1.3rem;
        line-height: 20px;
        cursor: pointer;
    }

    #rewardModal .close:hover {
        color: #ef5350;
        transform: scale(1.3);
        -moz-transform:scale(1.3);
        -webkit-transform:scale(1.3);
        -o-transform:scale(1.3);
    }

    #rewardModal .reward-tabs {
        margin: 0 auto;
        width: 210px;
    }

    .reward-tabs .tabs {
        height: 38px;
        margin: 10px auto;
        padding-left: 0;
    }

    .reward-content ul {
        padding-left: 0 !important;
    }

    .reward-tabs .tabs .tab {
        height: 38px;
        line-height: 38px;
    }

    .reward-tabs .tab a {
        color: #fff;
        background-color: #ccc;
    }

    .reward-tabs .tab a:hover {
        background-color: #ccc;
        color: #fff;
    }

    .reward-tabs .wechat-tab .active {
        color: #fff !important;
        background-color: #22AB38 !important;
    }

    .reward-tabs .alipay-tab .active {
        color: #fff !important;
        background-color: #019FE8 !important;
    }

    .reward-tabs .reward-img {
        width: 210px;
        height: 210px;
    }
</style>

<div id="reward">
    <a href="#rewardModal" class="reward-link modal-trigger btn-floating btn-medium waves-effect waves-light red">赏</a>

    <!-- Modal Structure -->
    <div id="rewardModal" class="modal">
        <div class="modal-content">
            <a class="close modal-close"><i class="fas fa-times"></i></a>
            <h4 class="reward-title">你的赏识是我前进的动力</h4>
            <div class="reward-content">
                <div class="reward-tabs">
                    <ul class="tabs row">
                        <li class="tab col s6 alipay-tab waves-effect waves-light"><a href="#alipay">支付宝</a></li>
                        <li class="tab col s6 wechat-tab waves-effect waves-light"><a href="#wechat">微 信</a></li>
                    </ul>
                    <div id="alipay">
                        <img src="/medias/reward/alipay.jpg" class="reward-img" alt="支付宝打赏二维码">
                    </div>
                    <div id="wechat">
                        <img src="/medias/reward/wechat.png" class="reward-img" alt="微信打赏二维码">
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    $(function () {
        $('.tabs').tabs();
    });
</script>

            
        </div>
    </div>

    

    

    

    

    

    

    

<article id="prenext-posts" class="prev-next articles">
    <div class="row article-row">
        
        <div class="article col s12 m6" data-aos="fade-up">
            <div class="article-badge left-badge text-color">
                <i class="fas fa-chevron-left"></i>&nbsp;上一篇</div>
            <div class="card">
                <a href="/2020/06/12/dai-tu-pian-de-toast-de-shi-xian/">
                    <div class="card-image">
                        
                        
                        <img src="/medias/featureimages/20.jpg" class="responsive-img" alt="带图片的toast的实现">
                        
                        <span class="card-title">带图片的toast的实现</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">
                        
                            带图片toast的实现前言最近刚开始接触Android开发，算是进入了到了一个新领域。对于一个门外汉来讲，再简单的知识对他而言也是全新的。闻道有先后，术业有专攻，如是而已。这次介绍一下用到的带图片的toast的实现。
实现可以自己创建一个T
                        
                    </div>
                    <div class="publish-info">
                        <span class="publish-date">
                            <i class="far fa-clock fa-fw icon-date"></i>2020-06-12
                        </span>
                        <span class="publish-author">
                            
                            <i class="fas fa-user fa-fw"></i>
                            风雪夜归人
                            
                        </span>
                    </div>
                </div>
                
            </div>
        </div>
        
        
        <div class="article col s12 m6" data-aos="fade-up">
            <div class="article-badge right-badge text-color">
                下一篇&nbsp;<i class="fas fa-chevron-right"></i>
            </div>
            <div class="card">
                <a href="/2020/05/21/springmvc-zhong-de-zhong-wen-luan-ma-wen-ti/">
                    <div class="card-image">
                        
                        
                        <img src="/medias/featureimages/10.jpg" class="responsive-img" alt="SpringMVC 中的中文乱码问题">
                        
                        <span class="card-title">SpringMVC 中的中文乱码问题</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">
                        
                            SpringMVC 中的中文乱码问题在前段时间玩的一个SSM项目中，遇到了不少中文乱码的问题，经常读出的数据变成了“？？？”，我也是一脸 ？？？，现在做个小记录。
其实除了在SpringMVC中有中文乱码的问题，在MyBatis中同样存在，
                        
                    </div>
                    <div class="publish-info">
                            <span class="publish-date">
                                <i class="far fa-clock fa-fw icon-date"></i>2020-05-21
                            </span>
                        <span class="publish-author">
                            
                            <i class="fas fa-user fa-fw"></i>
                            风雪夜归人
                            
                        </span>
                    </div>
                </div>
                
                <div class="card-action article-tags">
                    
                    <a href="/tags/SSM/">
                        <span class="chip bg-color">SSM</span>
                    </a>
                    
                </div>
                
            </div>
        </div>
        
    </div>
</article>

</div>



<!-- 代码块功能依赖 -->
<script type="text/javascript" src="/libs/codeBlock/codeBlockFuction.js"></script>

<!-- 代码语言 -->

<script type="text/javascript" src="/libs/codeBlock/codeLang.js"></script>


<!-- 代码块复制 -->

<script type="text/javascript" src="/libs/codeBlock/codeCopy.js"></script>


<!-- 代码块收缩 -->

<script type="text/javascript" src="/libs/codeBlock/codeShrink.js"></script>


<!-- 代码块折行 -->

<style type="text/css">
code[class*="language-"], pre[class*="language-"] { white-space: pre !important; }
</style>


    </div>
    <div id="toc-aside" class="expanded col l3 hide-on-med-and-down">
        <div class="toc-widget">
            <div class="toc-title"><i class="far fa-list-alt"></i>&nbsp;&nbsp;目录</div>
            <div id="toc-content"></div>
        </div>
    </div>
</div>

<!-- TOC 悬浮按钮. -->

<div id="floating-toc-btn" class="hide-on-med-and-down">
    <a class="btn-floating btn-large bg-color">
        <i class="fas fa-list-ul"></i>
    </a>
</div>


<script src="/libs/tocbot/tocbot.min.js"></script>
<script>
    $(function () {
        tocbot.init({
            tocSelector: '#toc-content',
            contentSelector: '#articleContent',
            headingsOffset: -($(window).height() * 0.4 - 45),
            collapseDepth: Number('0'),
            headingSelector: 'h2, h3, h4'
        });

        // modify the toc link href to support Chinese.
        let i = 0;
        let tocHeading = 'toc-heading-';
        $('#toc-content a').each(function () {
            $(this).attr('href', '#' + tocHeading + (++i));
        });

        // modify the heading title id to support Chinese.
        i = 0;
        $('#articleContent').children('h2, h3, h4').each(function () {
            $(this).attr('id', tocHeading + (++i));
        });

        // Set scroll toc fixed.
        let tocHeight = parseInt($(window).height() * 0.4 - 64);
        let $tocWidget = $('.toc-widget');
        $(window).scroll(function () {
            let scroll = $(window).scrollTop();
            /* add post toc fixed. */
            if (scroll > tocHeight) {
                $tocWidget.addClass('toc-fixed');
            } else {
                $tocWidget.removeClass('toc-fixed');
            }
        });

        
        /* 修复文章卡片 div 的宽度. */
        let fixPostCardWidth = function (srcId, targetId) {
            let srcDiv = $('#' + srcId);
            if (srcDiv.length === 0) {
                return;
            }

            let w = srcDiv.width();
            if (w >= 450) {
                w = w + 21;
            } else if (w >= 350 && w < 450) {
                w = w + 18;
            } else if (w >= 300 && w < 350) {
                w = w + 16;
            } else {
                w = w + 14;
            }
            $('#' + targetId).width(w);
        };

        // 切换TOC目录展开收缩的相关操作.
        const expandedClass = 'expanded';
        let $tocAside = $('#toc-aside');
        let $mainContent = $('#main-content');
        $('#floating-toc-btn .btn-floating').click(function () {
            if ($tocAside.hasClass(expandedClass)) {
                $tocAside.removeClass(expandedClass).hide();
                $mainContent.removeClass('l9');
            } else {
                $tocAside.addClass(expandedClass).show();
                $mainContent.addClass('l9');
            }
            fixPostCardWidth('artDetail', 'prenext-posts');
        });
        
    });
</script>

    

</main>




    <footer class="page-footer bg-color">
    
        <link rel="stylesheet" href="/libs/aplayer/APlayer.min.css">
<style>
    .aplayer .aplayer-lrc p {
        
        display: none;
        
        font-size: 12px;
        font-weight: 700;
        line-height: 16px !important;
    }

    .aplayer .aplayer-lrc p.aplayer-lrc-current {
        
        display: none;
        
        font-size: 15px;
        color: #42b983;
    }

    
    .aplayer.aplayer-fixed.aplayer-narrow .aplayer-body {
        left: -66px !important;
    }

    .aplayer.aplayer-fixed.aplayer-narrow .aplayer-body:hover {
        left: 0px !important;
    }

    
</style>
<div class="">
    
    <div class="row">
        <meting-js class="col l8 offset-l2 m10 offset-m1 s12"
                   server="netease"
                   type="playlist"
                   id="503838841"
                   fixed='true'
                   autoplay='false'
                   theme='#42b983'
                   loop='all'
                   order='random'
                   preload='auto'
                   volume='0.7'
                   list-folded='true'
        >
        </meting-js>
    </div>
</div>

<script src="/libs/aplayer/APlayer.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/meting@2/dist/Meting.min.js"></script>

    
    <div class="container row center-align" style="margin-bottom: 0px !important;">
        <div class="col s12 m8 l8 copy-right">
            Copyright&nbsp;&copy;
            <span id="year">2019</span>
            <a href="/about" target="_blank">风雪夜归人</a>
            |&nbsp;Powered by&nbsp;<a href="https://hexo.io/" target="_blank">Hexo</a>
            <br>
            
            
            
            
            
            
            <span id="busuanzi_container_site_pv">
                |&nbsp;<i class="far fa-eye"></i>&nbsp;总访问量:&nbsp;<span id="busuanzi_value_site_pv"
                    class="white-color"></span>&nbsp;次
            </span>
            
            
            <span id="busuanzi_container_site_uv">
                |&nbsp;<i class="fas fa-users"></i>&nbsp;总访问人数:&nbsp;<span id="busuanzi_value_site_uv"
                    class="white-color"></span>&nbsp;人
            </span>
            
            <br>
            
            <br>
            
        </div>
        <div class="col s12 m4 l4 social-link social-statis">
    <a href="https://github.com/" class="tooltipped" target="_blank" data-tooltip="访问我的GitHub" data-position="top" data-delay="50">
        <i class="fab fa-github"></i>
    </a>



    <a href="mailto:guangmingpeng110@163.com" class="tooltipped" target="_blank" data-tooltip="邮件联系我" data-position="top" data-delay="50">
        <i class="fas fa-envelope-open"></i>
    </a>







    <a href="tencent://AddContact/?fromId=50&fromSubId=1&subcmd=all&uin=2***583934" class="tooltipped" target="_blank" data-tooltip="QQ联系我: 2***583934" data-position="top" data-delay="50">
        <i class="fab fa-qq"></i>
    </a>







</div>
    </div>
</footer>

<div class="progress-bar"></div>


    <!-- 搜索遮罩框 -->
<div id="searchModal" class="modal">
    <div class="modal-content">
        <div class="search-header">
            <span class="title"><i class="fas fa-search"></i>&nbsp;&nbsp;搜索</span>
            <input type="search" id="searchInput" name="s" placeholder="请输入搜索的关键字"
                   class="search-input">
        </div>
        <div id="searchResult"></div>
    </div>
</div>

<script src="/js/search.js"></script>
<script type="text/javascript">
$(function () {
    searchFunc("/search.xml", 'searchInput', 'searchResult');
});
</script>

    <!-- 回到顶部按钮 -->
<div id="backTop" class="top-scroll">
    <a class="btn-floating btn-large waves-effect waves-light" href="#!">
        <i class="fas fa-arrow-up"></i>
    </a>
</div>


    <script src="/libs/materialize/materialize.min.js"></script>
    <script src="/libs/masonry/masonry.pkgd.min.js"></script>
    <script src="/libs/aos/aos.js"></script>
    <script src="/libs/scrollprogress/scrollProgress.min.js"></script>
    <script src="/libs/lightGallery/js/lightgallery-all.min.js"></script>
    <script src="/js/matery.js"></script>

    <!-- Baidu Analytics -->

    <!-- Baidu Push -->

<script>
    (function () {
        var bp = document.createElement('script');
        var curProtocol = window.location.protocol.split(':')[0];
        if (curProtocol === 'https') {
            bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
        } else {
            bp.src = 'http://push.zhanzhang.baidu.com/push.js';
        }
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(bp, s);
    })();
</script>

    
    <script src="/libs/others/clicklove.js" async="async"></script>
    
    
    <script async src="/libs/others/busuanzi.pure.mini.js"></script>
    

    

    

    

    

    

    
    <script src="/libs/instantpage/instantpage.js" type="module"></script>
    

</body>

</html>
